(this["webpackJsonpgiveaway-webapp"]=this["webpackJsonpgiveaway-webapp"]||[]).push([[0],{105:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},173:function(e,t,n){"use strict";n.r(t);var a=n(44),r=n(58),i=n.n(r),c=n(2),o=n(24),s=n(4),u=n(0),l=n.n(u),m=n(39),d=n(32),h=n(13),g=n(18),f=n(20),p=(n(46),function(){function e(t,n){var a=this;Object(h.a)(this,e),this._url=void 0,this._altText=void 0,this._isSameUrl=function(e,t){return e===t},this._isSameAltText=function(e,t){return e===t},this.equals=function(e){return a._isSameUrl(a._url,e._url)&&a._isSameAltText(a._altText,e._altText)},this._url=t,this._altText=n}return Object(g.a)(e,[{key:"url",get:function(){return this._url}},{key:"altText",get:function(){return this._altText}}]),e}()),_=n(93)(),w=function(){function e(t,n){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(h.a)(this,e),this._id=void 0,this._name=void 0,this._avatar=void 0,this._weight=void 0,this._getOrCreateAvatar=function(e,t){return t?new p(t.url,t.altText):new p(A(e),e)},this._isSameName=function(e,t){return e===t},this._isSameAvatar=function(e,t){return e.equals(t)},this.equals=function(e){return a._isSameName(a._name,e._name)&&a._isSameAvatar(a._avatar,e._avatar)},this._id="".concat(e.counter++),this._name=t,this._avatar=this._getOrCreateAvatar(t,n),this._weight=r}return Object(g.a)(e,[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"properName",get:function(){return _.titleize(this._name)}},{key:"avatar",get:function(){return this._avatar}},{key:"weight",get:function(){return this._weight}}]),e}();w.counter=1;var v,y,E,O,b,j=n(5),k=n(42),N=n.n(k),x=N.a.engines.mt19937().seed(o.seed),M=new N.a(x),I=function e(){Object(h.a)(this,e)};I._SPEED_MAP=new Map([["HALF",.5],["ONE",1],["TWO",2]]),I.get=function(e){return I._SPEED_MAP.get(e)},I.getValues=function(){return Array.from(I._SPEED_MAP.values())},I.getKeys=function(){return Array.from(I._SPEED_MAP.keys())},I.hasKey=function(e){return I._SPEED_MAP.has(e)},I.hasValue=function(e){return-1!==I.getValues().indexOf(e)},I.getEntries=function(){return Array.from(I._SPEED_MAP.entries())};var C=(b=O=function(){function e(){var t=this;Object(h.a)(this,e),this._name=void 0,this._messages=void 0,this._allParticipants=void 0,this._participantsPerMatch=void 0,this._languages=void 0,Object(d.a)(this,"_currentLanguage",y,this),Object(d.a)(this,"_speed",E,this),this._unusedMessages=void 0,this._getName=function(){return o.name},this._getMessages=function(){return o.messages},this._createParticipant=function(e){return"string"===typeof e?new w(e):new w(e.name,e.avatar,e.weight)},this._getParticipants=function(){return o.users.map(t._createParticipant)},this._getParticipantsPerMatch=function(){return o.participantsPerMatch},this._getlLanguages=function(){return o.lang},this._getSpeed=function(){return I.get("ONE")},this._shouldPrepend=function(e,t){return e===t-1&&t>1},this._prependToLastParticipant=function(e,n){return function(a,r){return t._shouldPrepend(r,e)?"".concat(n," ").concat(a):a}},this._formatLosers=function(e){return e.map(t._prependToLastParticipant(e.length,"and")).join(", ")},this.getFormattedMessage=function(e,n,a){return e.replace("#winner",n).replace("#loser",t._formatLosers(a))},this.getMessageIndex=function(e){return t._messages.indexOf(e)},this._name=this._getName(),this._messages=this._getMessages(),this._unusedMessages=M.shuffle(Object(m.a)(this._messages)),this._allParticipants=this._getParticipants(),this._participantsPerMatch=this._getParticipantsPerMatch(),this._languages=this._getlLanguages(),this._currentLanguage="en",this._speed=this._getSpeed()}return Object(g.a)(e,[{key:"getRandomMessage",value:function(){0===this._unusedMessages.length&&(this._unusedMessages=M.shuffle(Object(m.a)(this._messages)));var e=M.pick(this._unusedMessages);return this._unusedMessages.splice(this._unusedMessages.indexOf(e),1),e}},{key:"setCurrentLanguage",value:function(e){-1!==this._languages.indexOf(e)?(this._currentLanguage=e,X.changeLanguage(e)):console.error("Illegal value '".concat(e,"' for current language."))}},{key:"setSpeed",value:function(e){I.hasValue(e)?this._speed=e:console.error("Illegal value '".concat(e,"' for speed."))}},{key:"name",get:function(){return this._name}},{key:"messages",get:function(){return Object(m.a)(this._messages)}},{key:"allParticipants",get:function(){return this._allParticipants}},{key:"participantsPerMatch",get:function(){return this._participantsPerMatch}},{key:"languages",get:function(){return this._languages}},{key:"currentLanguage",get:function(){return this._currentLanguage}},{key:"speed",get:function(){return this._speed}}],[{key:"getInstance",value:function(){return e._instance?e._instance:e._instance=new e}}]),e}(),O._instance=null,v=b,y=Object(f.a)(v.prototype,"_currentLanguage",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=Object(f.a)(v.prototype,"_speed",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(f.a)(v.prototype,"currentLanguage",[j.computed],Object.getOwnPropertyDescriptor(v.prototype,"currentLanguage"),v.prototype),Object(f.a)(v.prototype,"setCurrentLanguage",[j.action],Object.getOwnPropertyDescriptor(v.prototype,"setCurrentLanguage"),v.prototype),Object(f.a)(v.prototype,"speed",[j.computed],Object.getOwnPropertyDescriptor(v.prototype,"speed"),v.prototype),Object(f.a)(v.prototype,"setSpeed",[j.action],Object.getOwnPropertyDescriptor(v.prototype,"setSpeed"),v.prototype),v),P=n(12),S=n(6),A=function(e){return"https://api.adorable.io/avatars/480/".concat(e)},T=function(e,t,n){return n>=t&&e>=t&&e<=n},R=function(e,t){var n=setTimeout(e,t);return function(){return clearTimeout(n)}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(u.useState)(e),n=Object(s.a)(t,2),a=n[0],r=n[1],i=function(){return r(a+1)},c=function(e){return R(i,e)};return[a,i,c,r]},W=function(e){return e/C.getInstance().speed},L=function(e,t){return function(){return e?t():void 0}},U=function(e,t){return l.a.createElement(P.a,{to:"/round/".concat(e,"/match/").concat(t)})},G=function(e){return function(t){return l.a.createElement(S.Observer,null,(function(){return l.a.createElement(e,t)}))}},V={resources:{en:{translation:n(62)}},lng:"en",fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},react:{wait:!0}},F=o.lang,K=Object.keys(V.resources);K.filter((function(e){return-1===F.indexOf(e)})).forEach((function(e){throw new Error('Language "'.concat(e,'" is not added in config.'))})),F.filter((function(e){return-1===K.indexOf(e)})).forEach((function(e){throw new Error('Language "'.concat(e,'" is not added in resources.'))})),a.a.use(i.a).use(c.b).init(V);var z,q,B,J,H,Y,X=a.a,Z=(n(105),n(106),n(27)),$=n.n(Z),Q=n(66),ee=n(68),te=n(67),ne=(n(107),n(1)),ae=n.n(ne),re=(n(108),n(109),n(7)),ie=(n(110),n(111),n(112),n(113),function(e){return void 0===e.participant.avatar?null:l.a.createElement("div",{className:ae()("".concat(e.className,"__avatar"))},l.a.createElement("img",{src:e.participant.avatar.url,alt:e.participant.avatar.altText}))}),ce=function(e){return l.a.createElement("div",{className:ae()("".concat(e.className,"__name"))},l.a.createElement("strong",null,e.participant.properName))},oe=function(e){return function(t){return l.a.createElement("div",{className:ae()("participant",e,{["".concat("participant","--invert")]:t.invert})},l.a.createElement(ie,Object.assign({className:e},t)),l.a.createElement(ce,Object.assign({className:e},t)))}},se=oe("participant-entry"),ue=(n(114),function(e){var t=D(),n=Object(s.a)(t,2),a=n[0],r=n[1];return Object(u.useEffect)(L(0===a,r)),l.a.createElement(re.CSSTransition,{in:a>0,timeout:W(200),classNames:{enter:"",enterActive:"".concat(e.className,"__winner--entering"),enterDone:"".concat(e.className,"__winner--entered"),exit:"",exitActive:"".concat(e.className,"__winner--exiting"),exitDone:"".concat(e.className,"__winner--exited")},mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("div",{className:ae()("".concat(e.className,"__winner")),style:{transition:"opacity ".concat(W(200),"ms ease-in-out")}},l.a.createElement(se,{participant:e.winner})))}),le=function(e){var t=D(),n=Object(s.a)(t,4),a=n[0],r=n[1],i=n[2],c=n[3];return Object(u.useEffect)(L(0===a,r)),Object(u.useEffect)(L((a+1)%3===0,(function(){return i(W(200))}))),Object(u.useEffect)(L(a===3*e.match.participants.length+1,(function(){return c(1)}))),l.a.createElement(u.Fragment,null,e.isCurrentMatch&&e.isActualMatch?e.match.participants.map((function(t,n){return l.a.createElement(re.CSSTransition,{key:t.id,in:T(a,3*n+1,3*n+2),timeout:W(200),classNames:{enter:"",enterActive:"".concat(e.className,"__interim--entering"),enterDone:"".concat(e.className,"__interim--entered"),exit:"",exitActive:"".concat(e.className,"__interim--exiting"),exitDone:"".concat(e.className,"__interim--exited")},mountOnEnter:!0,unmountOnExit:!0,onEntered:r,onExited:r},l.a.createElement("div",{className:ae()("".concat(e.className,"__interim")),style:{transition:"opacity ".concat(W(200),"ms ease-in-out")}},l.a.createElement(se,{participant:t})))})):l.a.createElement(ue,{className:e.className,isCurrentMatch:e.isCurrentMatch,winner:e.match.winner}))},me=(n(121),function(e){return l.a.createElement("div",{className:ae()("".concat(e.className,"__list"))},e.match.participants.map((function(e){return l.a.createElement(se,{key:e.id,participant:e})})))}),de=(n(122),n(123),Object(S.inject)("config")(Object(c.d)()(Object(P.g)(G((function(e){var t=D(),n=Object(s.a)(t,2),a=n[0],r=n[1],i=Object(u.useState)(document.hidden),o=Object(s.a)(i,2),m=o[0],d=o[1],h=!new URLSearchParams(e.location.search).has("stop");Object(u.useEffect)(L(0===a,r)),Object(u.useEffect)((function(){console.log(document.hidden);var e=function(){console.log(document.hidden),d(document.hidden)};return document.addEventListener("visibilitychange",e),function(){return document.removeEventListener("visibilitychange",e)}}));var g=(0,Object(c.c)().t)("matchOverlay.messages",{returnObjects:!0,count:e.currentMatch.losers.length}),f=e.currentMatch.message,p=e.config.getMessageIndex(e.currentMatch.message);-1!==p&&Array.isArray(g)&&T(p,0,g.length-1)&&(f=g[p]);var _=e.currentMatch.winner.properName,w=e.currentMatch.losers.map((function(e){return e.properName}));return Object(u.useEffect)(L(2===a&&h&&!m,(function(){return R((function(){e.onWinnerComplete()}),W(4e3))}))),l.a.createElement(re.CSSTransition,{in:a>0&&e.show,timeout:W(500),classNames:{enter:"",enterActive:"".concat(e.className,"__winner--entering"),enterDone:"".concat(e.className,"__winner--entered"),exit:"",exitActive:"".concat(e.className,"__winner--exiting"),exitDone:"".concat(e.className,"__winner--exited")},mountOnEnter:!0,unmountOnExit:!0,onEntered:r},l.a.createElement("div",{className:ae()("".concat(e.className,"__winner")),style:{transition:"opacity ".concat(W(500),"ms ease-in-out")}},l.a.createElement(c.a,{i18nKey:"matchOverlay.winnerTitle"},l.a.createElement(se,{participant:e.currentMatch.winner}),l.a.createElement("h3",null,"Won The Match!")),l.a.createElement("h5",null,l.a.createElement("strong",null,l.a.createElement("em",null,e.config.getFormattedMessage(f,_,w))))))})))))),he=(n(124),n(63)),ge=Object(c.d)()(G((function(e){var t=D(),n=Object(s.a)(t,3),a=n[0],r=n[1],i=n[2];return Object(u.useEffect)(L(0===a,r)),Object(u.useEffect)(L(2===a,(function(){return i(W(4e3))})),[a]),l.a.createElement(re.CSSTransition,{in:T(a,1,2)&&e.show,timeout:W(500),classNames:{enter:"",enterActive:"".concat(e.className,"__interim--entering"),enterDone:"".concat(e.className,"__interim--entered"),exit:"",exitActive:"".concat(e.className,"__interim--exiting"),exitDone:"".concat(e.className,"__interim--exited")},mountOnEnter:!0,unmountOnExit:!0,onEntered:r,onExited:e.onInterimComplete},l.a.createElement("div",{className:ae()("".concat(e.className,"__interim")),style:{transition:"opacity ".concat(W(500),"ms ease-in-out")}},l.a.createElement("h3",null,l.a.createElement(c.a,{i18nKey:"matchOverlay.interimText"},"Selecting Winner")),l.a.createElement(he.ClipLoader,{sizeUnit:"rem",size:3})))}))),fe=(n(150),n(151),oe("participant-card")),pe=Object(c.d)()((function(e){return l.a.createElement("div",{className:ae()("".concat(e.className,"__list"))},e.currentMatch.participants.flatMap((function(t){return[l.a.createElement("div",{key:t.id},l.a.createElement(fe,{invert:!0,participant:t})),l.a.createElement("h3",{className:ae()("versus-text"),key:"".concat(t.id," versus")},l.a.createElement(c.a,{i18nKey:"matchOverlay.versus",count:e.currentMatch.participants.length},"VS"))]})).slice(0,-1))})),_e=G((function(e){var t=D(),n=Object(s.a)(t,2),a=n[0],r=n[1],i="match-overlay";return Object(u.useEffect)(L(0===a&&e.show,r)),l.a.createElement(re.CSSTransition,{in:T(a,1,2)&&e.show,timeout:W(500),classNames:{enter:"",enterActive:"".concat(i,"-wrapper--entering"),enterDone:"".concat(i,"-wrapper--entered"),exit:"",exitActive:"".concat(i,"-wrapper--exiting"),exitDone:"".concat(i,"-wrapper--exited")},mountOnEnter:!0,unmountOnExit:!0,onExited:e.onOverlayComplete},l.a.createElement("div",{className:ae()("".concat(i,"-wrapper")),style:{transition:"opacity ".concat(W(500),"ms ease-in-out")}},l.a.createElement("div",{className:ae()(i)},l.a.createElement(pe,{className:i,currentMatch:e.currentMatch}),l.a.createElement(ge,{className:i,show:1===a,onInterimComplete:r}),l.a.createElement(de,{currentMatch:e.currentMatch,className:i,show:2===a,onWinnerComplete:r}))))})),we=G((function(e){if(void 0===e.match)return null;var t=e.match.participants.length>1,n=D(e.isCurrentMatch?0:3),a=Object(s.a)(n,4),r=a[0],i=a[1],c=a[2],o=a[3],m=function(){o(3),L(e.isCurrentMatch,(function(){return R((function(){return e.onMatchComplete()}),W(1e3))}))()};Object(u.useEffect)(L(0===r,i)),Object(u.useEffect)(L(1===r&&t&&e.isCurrentMatch,(function(){return c(W(200))}))),Object(u.useEffect)(L(1===r&&!t,m));var d=Object(u.useRef)(null);return l.a.createElement(re.CSSTransition,{in:r>0,timeout:W(500),classNames:{enter:"",enterActive:"".concat("match","--entering"),enterDone:"".concat("match","--entered"),exit:"",exitActive:"".concat("match","--exiting"),exitDone:"".concat("match","--exited")},mountOnEnter:!0,unmountOnExit:!0,onEntering:function(){return d.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},onExited:e.onMatchComplete},l.a.createElement("div",{ref:d,className:ae()("match",{["".concat("match","--completed")]:!e.isCurrentMatch}),style:{transition:"opacity ".concat(W(500),"ms ease-in-out")}},l.a.createElement(me,{className:"match",match:e.match}),l.a.createElement(le,{className:"match",isCurrentMatch:e.isCurrentMatch&&r<3,isActualMatch:t,match:e.match}),l.a.createElement(_e,{currentMatch:e.match,show:2===r&&e.isCurrentMatch,onOverlayComplete:m})))})),ve=function(e){var t=e.round.matches.findIndex((function(t){return t.id===e.matchId}));return l.a.createElement(S.Observer,null,(function(){return l.a.createElement("div",{className:ae()("".concat(e.className,"__list"))},e.round.matches.filter((function(e,n){return n<=t})).map((function(t){return l.a.createElement(we,{key:t.fullId,match:t,isCurrentMatch:t.id===e.matchId,onMatchComplete:e.onCurrentMatchComplete})})))}))},ye=(n(152),Object(c.d)()((function(e){var t=e.round.id;return l.a.createElement("h2",null,l.a.createElement(c.a,{i18nKey:"roundView.title"},"Round ",{roundId:t}))}))),Ee=G((function(e){var t=e.round.matches.findIndex((function(t){return t.id===e.matchId})),n=D(t),a=Object(s.a)(n,2),r=a[0],i=a[1];return Object(u.useEffect)(L(0===r,i)),l.a.createElement(re.CSSTransition,{in:r>0&&-1!==t&&e.show,timeout:W(500),classNames:{enter:"",enterActive:"".concat(e.className,"--entering"),enterDone:"".concat(e.className,"--entered"),exit:"",exitActive:"".concat(e.className,"--exiting"),exitDone:"".concat(e.className,"--exited")},mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("div",{className:ae()(e.className),style:{transition:"opacity ".concat(W(500),"ms ease-in-out")}},l.a.createElement(ye,{round:e.round}),l.a.createElement(ve,{key:"".concat(e.round.id,":").concat(e.matchId),className:e.className,round:e.round,matchId:e.matchId,onCurrentMatchComplete:e.onCurrentComplete})))})),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e?U(t.id,t.matches[n].id):null},be=G((function(e){if(void 0===e.round)return null;var t=e.round.matches.findIndex((function(t){return t.id===e.matchId})),n=D(t),a=Object(s.a)(n,4),r=a[0],i=a[1],c=a[3],o=r>0&&t!==r&&-1!==t&&r<e.round.matches.length;return Object(u.useEffect)(L(r===e.round.matches.length,(function(){return R(e.onRoundComplete,W(500))})),[r]),Object(u.useEffect)((function(){return c(t)}),[t,e.matchId,c]),l.a.createElement(re.CSSTransition,{in:e.show,timeout:W(500),classNames:{enter:"",enterActive:"round--entering",enterDone:"round--entered",exit:"",exitActive:"round--exiting",exitDone:"round--exited"},mountOnEnter:!0,unmountOnExit:!0},l.a.createElement(u.Fragment,null,l.a.createElement(Ee,{className:"round",round:e.round,show:r!==e.round.matches.length,matchId:e.matchId,onCurrentComplete:i}),Oe(-1===t,e.round,0),Oe(o,e.round,r)))})),je=(n(153),n(154),n(155),Object(c.d)()((function(e){return l.a.createElement("div",{className:ae()("".concat(e.className,"__winner"))},l.a.createElement(c.a,{i18nKey:"winnerOverlay.message"},l.a.createElement(fe,{participant:e.winner}),l.a.createElement("h3",null,"Won The Tournament!")))}))),ke=function(e){return l.a.createElement("div",{className:ae()(e.className)},l.a.createElement(je,e))},Ne=G((function(e){var t=D(),n=Object(s.a)(t,2),a=n[0],r=n[1],i="winner-overlay";return Object(u.useEffect)(L(0===a,r)),l.a.createElement(re.CSSTransition,{in:a>0&&e.show,timeout:W(500),classNames:{enter:"",enterActive:"".concat(i,"-wrapper--entering"),enterDone:"".concat(i,"-wrapper--entered"),exit:"",exitActive:"".concat(i,"-wrapper--exiting"),exitDone:"".concat(i,"-wrapper--exited")},mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("div",{className:ae()("".concat(i,"-wrapper")),style:{transition:"opacity ".concat(W(500),"ms ease-in-out")}},l.a.createElement(ke,{className:i,winner:e.winner})))})),xe=(n(156),n(157),Object(S.inject)("config")(Object(S.observer)((function(e){return l.a.createElement("button",{key:e.speed,className:ae()("".concat(e.className,"__option"),{"button-primary":e.speed===e.config.speed}),onClick:function(){return e.config.setSpeed(e.speed)}},"".concat(e.speed,"x"))})))),Me=I.getValues(),Ie=function(e){return l.a.createElement("div",{className:ae()("speed-control")},Me.map((function(e){return l.a.createElement(xe,{className:"speed-control",key:"".concat(e,"-speed"),speed:e})})))},Ce=(n(64),function(){return null}),Pe=(n(158),n(159),n(160),G((function(e){var t=D(),n=Object(s.a)(t,3),a=n[0],r=n[1],i=n[2];return Object(u.useEffect)(L(0===a,r)),Object(u.useEffect)(L(2===a,(function(){return i(W(1e3))})),[a]),l.a.createElement(re.CSSTransition,{in:T(a,1,2)&&e.show,timeout:W(200),classNames:{enter:"",enterActive:"".concat(e.className,"__loser--entering"),enterDone:"".concat(e.className,"__loser--entered"),exit:"",exitActive:"".concat(e.className,"__loser--exiting"),exitDone:"".concat(e.className,"__loser--exited")},mountOnEnter:!0,unmountOnExit:!0,onEntered:r,onExited:e.onInfoComplete},l.a.createElement("div",{className:ae()("".concat(e.className,"__loser")),style:{transition:"opacity ".concat(W(200),"ms ease-in-out")}},l.a.createElement(fe,{participant:e.loser})))}))),Se=Object(c.d)()((function(e){var t=D(),n=Object(s.a)(t,2),a=n[0],r=n[1];return Object(u.useEffect)(L(a===e.losers.length,e.onViewComplete)),l.a.createElement("div",{className:ae()(e.className)},l.a.createElement("h2",null,l.a.createElement(c.a,{i18nKey:"loserOverlay.title",count:e.losers.length},"Losers")),e.losers.map((function(t,n){return l.a.createElement(Pe,{key:t.name,className:e.className,show:a===n,loser:t,onInfoComplete:r})})))})),Ae=G((function(e){var t=D(),n=Object(s.a)(t,2),a=n[0],r=n[1],i="loser-overlay";return Object(u.useEffect)(L(0===a,r)),l.a.createElement(re.CSSTransition,{in:1===a,timeout:W(500),classNames:{enter:"",enterActive:"".concat(i,"-wrapper--entering"),enterDone:"".concat(i,"-wrapper--entered"),exit:"",exitActive:"".concat(i,"-wrapper--exiting"),exitDone:"".concat(i,"-wrapper--exited")},mountOnEnter:!0,unmountOnExit:!0,onExited:e.onOverlayComplete},l.a.createElement("div",{className:ae()("".concat(i,"-wrapper")),style:{transition:"opacity ".concat(W(500),"ms ease-in-out")}},l.a.createElement(Se,{losers:e.losers,className:i,onViewComplete:r})))})),Te=function(e){return e.show?l.a.createElement(Ae,{losers:e.round.losers,onOverlayComplete:e.onOverlayComplete}):null},Re=(n(161),n(162)),De=Object(c.d)()(Object(S.inject)("config")((function(e){var t=(0,Object(c.c)().t)("tournamentView.name"),n=Re(t)&&t?t:e.config.name;return l.a.createElement("h1",null,l.a.createElement(c.a,{i18nKey:"tournamentView.title"},{tournamentName:n}," Tournament"))}))),We=(n(163),n(164),Object(S.inject)("config")(Object(S.observer)((function(e){return l.a.createElement("button",{key:e.language,className:ae()("".concat(e.className,"__option"),{"button-primary":e.language===e.config.currentLanguage}),onClick:function(){return e.config.setCurrentLanguage(e.language)}},e.language)})))),Le=Object(S.inject)("config")((function(e){return l.a.createElement("div",{className:ae()("language-control")},e.config.languages.map((function(e){return l.a.createElement(We,{key:"".concat(e,"-language"),className:"language-control",language:e})})))})),Ue=n(56),Ge=Object(c.d)()(Object(S.inject)("serviceWorkerAlertsConfig")(G((function(e){var t=Object(u.useState)(!0),n=Object(s.a)(t,2),a=n[0],r=n[1],i=e.t("serviceWorker.updateMessage.title"),c=e.t("serviceWorker.updateMessage.message");return l.a.createElement(Ue.default,{show:a&&e.serviceWorkerAlertsConfig.updated,type:"warning",title:i,text:c,onConfirm:function(){r(!1),e.serviceWorkerAlertsConfig.setIsUpdated(!1)}})})))),Ve=n(56),Fe=Object(c.d)()(Object(S.inject)("serviceWorkerAlertsConfig")(G((function(e){var t=Object(u.useState)(!0),n=Object(s.a)(t,2),a=n[0],r=n[1],i=e.t("serviceWorker.offlineMessage.title"),c=e.t("serviceWorker.offlineMessage.message");return l.a.createElement(Ve.default,{show:a&&e.serviceWorkerAlertsConfig.added,type:"success",title:i,text:c,onConfirm:function(){r(!1),e.serviceWorkerAlertsConfig.setIsAdded(!1)}})})))),Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return e?U(t.rounds[n].id,t.rounds[n].matches[a].id):null},ze=function(e){var t=e.tournament.rounds.findIndex((function(t){return t.id===e.roundId})),n=e.tournament.lastRound.id===e.roundId,a=Object(u.useState)(!1),r=Object(s.a)(a,2),i=r[0],c=r[1],o=D(),m=Object(s.a)(o,4),d=m[0],h=m[1],g=m[3],f=d>0&&t+1!==d&&d<=e.tournament.rounds.length;return Object(u.useEffect)(L(0===d,(function(){return g(t+1)}))),l.a.createElement("div",{key:"round-".concat(t),className:ae()("tournament")},l.a.createElement(De,null),l.a.createElement(be,{key:"".concat(e.roundId),show:d===t+1,round:e.tournament.rounds[t],matchId:e.matchId,onRoundComplete:function(){return c(!0)}}),l.a.createElement(Te,{show:i&&!n,round:e.tournament.rounds[t],onOverlayComplete:function(){c(!1),h()}}),l.a.createElement(Ne,{show:i&&n,winner:e.tournament.winner}),Ke(-1===t,e.tournament,0,0),Ke(f,e.tournament,Math.max(t,d-1),0),l.a.createElement(Ie,null),l.a.createElement(Le,null),l.a.createElement(Fe,null),l.a.createElement(Ge,null),l.a.createElement(Ce,null))},qe=function(e){return e.roundId?U(e.roundId,e.firstMatchId):U(e.firstRoundId,e.firstMatchId)},Be=Object(S.observer)(z=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r)))._getParams=function(e){return e.match.params},e._getApplicationRoute=function(){return l.a.createElement(P.b,{exact:!0,path:"/round/:roundId/match/:matchId",render:e._getTournament})},e._getTournament=function(t){return l.a.createElement(ze,{key:e._getParams(t).roundId,tournament:e.props.tournament,roundId:e._getParams(t).roundId,matchId:e._getParams(t).matchId})},e._getPartialRoute=function(){return l.a.createElement(P.b,{exact:!0,path:"/round/:roundId",render:e._getPartialAppRedirect})},e._getPartialAppRedirect=function(t){return e._getCurrentRoundDetails(e._getParams(t).roundId)?l.a.createElement(qe,{roundId:e._getParams(t).roundId,firstMatchId:e._getFirstMatchIdOfCurrentRound(e._getParams(t).roundId)}):e._getUnknownAppRedirect()},e._getUnknownRoute=function(){return l.a.createElement(P.b,{exact:!0,path:"*",render:e._getUnknownAppRedirect})},e._getUnknownAppRedirect=function(){return l.a.createElement(qe,{roundId:e._getFirstRoundId(),firstMatchId:e._getFirstMatchIdOfCurrentRound(e._getFirstRoundId())})},e._getFirstRoundId=function(){return e.props.tournament.firstRound.id},e._getIsCurrentRoundFilter=function(e){return function(t){return t.id===e}},e._getCurrentRoundDetails=function(t){return e.props.tournament.rounds.find(e._getIsCurrentRoundFilter(t))},e._getFirstMatchIdOfCurrentRound=function(t){return e._getCurrentRoundDetails(t).firstMatch.id},e.render=function(){return l.a.createElement(P.d,null,e._getApplicationRoute(),e._getPartialRoute(),e._getUnknownRoute())},e}return n}(u.Component))||z,Je=Object(P.g)(Be);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=(Y=H=function(){function e(){Object(h.a)(this,e),Object(d.a)(this,"_added",B,this),Object(d.a)(this,"_updated",J,this),this._added=!1,this._updated=!1}return Object(g.a)(e,[{key:"setIsAdded",value:function(e){this._added=e}},{key:"setIsUpdated",value:function(e){this._updated=e}},{key:"added",get:function(){return this._added}},{key:"updated",get:function(){return this._updated}}],[{key:"getInstance",value:function(){return e._instance?e._instance:e._instance=new e}}]),e}(),H._instance=null,q=Y,B=Object(f.a)(q.prototype,"_added",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=Object(f.a)(q.prototype,"_updated",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(f.a)(q.prototype,"added",[j.computed],Object.getOwnPropertyDescriptor(q.prototype,"added"),q.prototype),Object(f.a)(q.prototype,"updated",[j.computed],Object.getOwnPropertyDescriptor(q.prototype,"updated"),q.prototype),Object(f.a)(q.prototype,"setIsAdded",[j.action],Object.getOwnPropertyDescriptor(q.prototype,"setIsAdded"),q.prototype),Object(f.a)(q.prototype,"setIsUpdated",[j.action],Object.getOwnPropertyDescriptor(q.prototype,"setIsUpdated"),q.prototype),q),Ye=n(38),Xe=n.n(Ye),Ze=n(65),$e=n.n(Ze),Qe=n(172),et=function(){function e(t,n,a){var r=this;Object(h.a)(this,e),this._id=void 0,this._roundId=void 0,this._participants=void 0,this._winner=void 0,this._message=void 0,this._participantWeightGcd=void 0,this._config=void 0,this._getParticipantWeight=function(e){return e.weight},this._getParticipantWeightsGcd=function(){return r._participants.map(r._getParticipantWeight).reduce((function(e,t){return Qe(e,t)}))},this._cloneParticipantByWeight=function(e){for(var t=[],n=0;n<e.weight/r._participantWeightGcd;n++)t.push(e);return t},this._getWinner=function(){return M.pick(r._participants.flatMap(r._cloneParticipantByWeight))},this._getMessage=function(){return r._config.getRandomMessage()},this._getMatchId=function(t){return e.counter[t]||(e.counter[t]=1),"".concat(e.counter[t]++)},this._isNotWinner=function(e){return!e.equals(r._winner)},this._config=t,this._id="".concat(this._getMatchId(a)),this._roundId=a,this._participants=n,this._participantWeightGcd=this._getParticipantWeightsGcd(),this._winner=this._getWinner(),this._message=this._getMessage()}return Object(g.a)(e,[{key:"id",get:function(){return this._id}},{key:"fullId",get:function(){return"".concat(this._roundId,":").concat(this._id)}},{key:"losers",get:function(){return this._participants.filter(this._isNotWinner)}},{key:"participants",get:function(){return this._participants}},{key:"winner",get:function(){return this._winner}},{key:"message",get:function(){return this._message}}]),e}();et.counter={};var tt=function(){function e(t,n){var a=this;Object(h.a)(this,e),this._id=void 0,this._matches=void 0,this._config=void 0,this._shuffleParticipants=function(e){return M.shuffle(e)},this._createMatch=function(e){return new et(a._config,e,a._id)},this._getMatches=function(e){return $e()(a._shuffleParticipants(e),a._config.participantsPerMatch).map(a._createMatch)},this._getMatchParticipants=function(e){return e.participants},this._getMatchWinner=function(e){return e.winner},this._getMatchLosers=function(e){return e.losers},this._config=t,this._id="".concat(e.counter++),this._matches=this._getMatches(n)}return Object(g.a)(e,[{key:"id",get:function(){return this._id}},{key:"matches",get:function(){return this._matches}},{key:"firstMatch",get:function(){return this._matches[0]}},{key:"lastMatch",get:function(){return Xe()(this._matches)}},{key:"participants",get:function(){return this._matches.flatMap(this._getMatchParticipants)}},{key:"winners",get:function(){return this._matches.map(this._getMatchWinner)}},{key:"losers",get:function(){return this._matches.flatMap(this._getMatchLosers)}}]),e}();tt.counter=1;var nt=function(){function e(t){var n=this;Object(h.a)(this,e),this._rounds=void 0,this._config=void 0,this._createRound=function(e){return new tt(n._config,e)},this._getRounds=function(){for(n._rounds=[n._createRound(n._config.allParticipants)];!n._hasWinner;)n._rounds.push(n._createRound(n.lastRound.winners));return n._rounds},this._config=t,this._rounds=this._getRounds()}return Object(g.a)(e,[{key:"_hasWinner",get:function(){return 1===this.lastRound.winners.length}},{key:"firstRound",get:function(){return this._rounds[0]}},{key:"lastRound",get:function(){return Xe()(this._rounds)}},{key:"rounds",get:function(){return this._rounds}},{key:"winner",get:function(){return this.lastRound.winners[0]}}]),e}(),at=C.getInstance(),rt=He.getInstance();"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}));var it=new nt(at);document.title="".concat(at.name," Tournament"),$.a.render(l.a.createElement(Q.a,null,l.a.createElement(S.Provider,{config:at,serviceWorkerAlertsConfig:rt},l.a.createElement(Je,{tournament:it}))),document.getElementById("root"))},24:function(e){e.exports=JSON.parse('{"name":"Fall Guys: Ultimate Knockout","seed":1598556484123,"participantsPerMatch":3,"messages":["#loser committed sudoku.","#winner didn\'t even do anything.","#loser is contemplating the meaning of their existence.","#loser thinks traps are gay.","#winner was assisted by The Big Gay.","#winner subscribed to thighdeology.","#loser, ur mum gay.","Why do we exist?","#loser hates giveaways.","#winner winner winner, fuck your dinner.","#loser, ur mum also gay.","Does anyone even read these?","#winner monologues harder than 8-man.","#winner wins better than a harem protagonist wins women.","#loser died of dysentery.","#loser drools harder than a waterfall over Gundam figures.","#loser floss dances.","#winner PRAISES THE SUN. \\\\[T]/","#winner is woke and breath-taking Samurai.","#loser goes UwU, #winner goes OwO.","#loser: \\"It\'s time to kick gum and chew ass. And I\'m all out of ass.\\"","#winner had the high ground.","#winner played #loser like a damn fiddle.","#loser though his power was underestimated.","#winner is woke and a breath-taking Samurai.","#winner winner winner, your mom makes a great dinner.","There are 3 ways this could have gone, and #loser would have lost in all of them.","#loser, always fear the flame giveaway, lest you be devoured by it, and lose yourself","#RIGGED","Giveaways are why we are here. It\'s what we pariticpate in when no money is left.","\ud83d\udd25 \ud83d\udc4c \ud83d\udcaf \ud83d\ude02 \ud83d\ude91"],"lang":["en"],"users":[{"name":"\u300cSkech1e\u300d#8415","weight":1},{"name":"COURSETTA#2986","weight":1},{"name":"Napstablook#9161","weight":1},{"name":"Joyverse#2655","weight":1},{"name":"Sho#8367","weight":1},{"name":"Potato#2524","weight":1},{"name":"THE Disapppointment#4697","weight":1},{"name":"ATP#7470","weight":1},{"name":"thedarknight#8184","weight":1},{"name":"Nits95#6370","weight":1},{"name":"halank#5053","weight":1},{"name":"zerovitality#4475","weight":1},{"name":"L3371x#1015","weight":1},{"name":"Monarc#3069","weight":1},{"name":"Skettels#9148","weight":1},{"name":"Nardo \u0ca0_\u0ca0#5392","weight":1},{"name":"ChaseCat#5690","weight":1},{"name":"Yolomanceringu#5278","weight":1},{"name":"LeoArmstrong#1514","weight":1},{"name":"TheYorouzoya#3449","weight":1},{"name":"(Fusion_Jazz)#4450","weight":1},{"name":"Kunjabes#6232","weight":1},{"name":"ConspiratorDoggo#1867","weight":1},{"name":"TheRebel#2211","weight":1},{"name":"Excalibur#1915","weight":1},{"name":"Evilminato#0143","weight":1},{"name":"Pinky\ud83d\udc3c#8227","weight":1},{"name":"HiteshOO7#8668","weight":1},{"name":"ZuLi[X]#6132","weight":1},{"name":"automatic77#7024","weight":1},{"name":"StarkySam#4116","weight":1},{"name":"Juzouruto#4320","weight":1},{"name":"Vamxi#9282","weight":1},{"name":"sugoii_senpai#6793","weight":1},{"name":"wReckless#9933","weight":1},{"name":"Gatsby89200#4533","weight":1},{"name":"S.H.E#7999","weight":1},{"name":"Golden Mayer","weight":1},{"name":"Gerda Wuckert","weight":1},{"name":"Mateo Prosacco","weight":1},{"name":"Sandy Donnelly","weight":1},{"name":"Florence Schmitt","weight":1},{"name":"Sienna Davis","weight":1},{"name":"Boyd Veum","weight":1},{"name":"Nicolette Labadie","weight":1},{"name":"Kenton Kuhic","weight":1}]}')},62:function(e){e.exports=JSON.parse('{"serviceWorker":{"offlineMessage":{"title":"Use Offline","message":"This web application can now be used offline!"},"updateMessage":{"title":"App Updated","message":"This web application has been updated. Please close all tabs/instances of it and open it again to see the update."}},"tournamentView":{"name":"Fall Guys: Ultimate Knockout","title":"<0>{{tournamentName}}</0> Tournament"},"loserOverlay":{"title":"Losers"},"roundView":{"title":"Round <1>{{roundId}}</1>"},"matchOverlay":{"interimText":"Selecting Winner","versus":"VS","messages":["#loser committed sudoku.","#winner didn\'t even do anything.","#loser is contemplating the meaning of their existence.","#loser thinks traps are gay.","#winner was assisted by The Big Gay.","#winner subscribed to thighdeology.","#loser, ur mum gay.","Why do we exist?","#loser hates giveaways.","#winner winner winner, fuck your dinner.","#loser, ur mum also gay.","Does anyone even read these?","#winner monologues harder than 8-man.","#winner wins better than a harem protagonist wins women.","#loser died of dysentery.","#loser drools harder than a waterfall over Gundam figures.","#loser floss dances.","#winner PRAISES THE SUN. \\\\[T]/","#winner is woke and breath-taking Samurai.","#loser goes UwU, #winner goes OwO.","#loser: \\"It\'s time to kick gum and chew ass. And I\'m all out of ass.\\"","#winner had the high ground.","#winner played #loser like a damn fiddle.","#loser though his power was underestimated.","#winner is woke and a breath-taking Samurai.","#winner winner winner, your mom makes a great dinner.","There are 3 ways this could have gone, and #loser would have lost in all of them.","#loser, always fear the flame giveaway, lest you be devoured by it, and lose yourself","#RIGGED","Giveaways are why we are here. It\'s what we pariticpate in when no money is left.","\ud83d\udd25 \ud83d\udc4c \ud83d\udcaf \ud83d\ude02 \ud83d\ude91"],"winnerTitle":"<0></0><1>Won The Match!</1>"},"winnerOverlay":{"message":"<0></0><1>Won The Tournament!</1>"},"#loserOverlay.title_note":"Count is passed for plurals (if required).","#matchOverlay.messages_note":"Count is passed for plurals (if required).","#matchOverlay.versus_note":"Count is passed for plurals (if required).","#tournamentView.name_note":"To be filled in by end developer."}')},69:function(e,t,n){e.exports=n(173)}},[[69,1,2]]]);
//# sourceMappingURL=main.6da660fd.chunk.js.map