(this["webpackJsonpgiveaway-webapp"]=this["webpackJsonpgiveaway-webapp"]||[]).push([[0],{106:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var a=n(44),r=n(58),i=n.n(r),c=n(2),o=n(24),s=n(4),u=n(0),l=n.n(u),d=n(39),m=n(32),h=n(13),f=n(18),g=n(20),p=(n(46),function(){function e(t,n){var a=this;Object(h.a)(this,e),this._url=void 0,this._altText=void 0,this._isSameUrl=function(e,t){return e===t},this._isSameAltText=function(e,t){return e===t},this.equals=function(e){return a._isSameUrl(a._url,e._url)&&a._isSameAltText(a._altText,e._altText)},this._url=t,this._altText=n}return Object(f.a)(e,[{key:"url",get:function(){return this._url}},{key:"altText",get:function(){return this._altText}}]),e}()),_=n(94)(),v=function(){function e(t,n){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(h.a)(this,e),this._id=void 0,this._name=void 0,this._avatar=void 0,this._weight=void 0,this._getOrCreateAvatar=function(e,t){return t?new p(t.url,t.altText):new p(S(e),e)},this._isSameName=function(e,t){return e===t},this._isSameAvatar=function(e,t){return e.equals(t)},this.equals=function(e){return a._isSameName(a._name,e._name)&&a._isSameAvatar(a._avatar,e._avatar)},this._id="".concat(e.counter++),this._name=t,this._avatar=this._getOrCreateAvatar(t,n),this._weight=r}return Object(f.a)(e,[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"properName",get:function(){return _.titleize(this._name)}},{key:"avatar",get:function(){return this._avatar}},{key:"weight",get:function(){return this._weight}}]),e}();v.counter=1;var w,O,E,b,y,j=n(5),N=n(42),x=n.n(N),M=x.a.engines.mt19937().seed(o.seed),k=new x.a(M),C=function e(){Object(h.a)(this,e)};C._SPEED_MAP=new Map([["HALF",.5],["ONE",1],["TWO",2],["FIVE",5],["TEN",10]]),C.get=function(e){return C._SPEED_MAP.get(e)},C.getValues=function(){return Array.from(C._SPEED_MAP.values())},C.getKeys=function(){return Array.from(C._SPEED_MAP.keys())},C.hasKey=function(e){return C._SPEED_MAP.has(e)},C.hasValue=function(e){return-1!==C.getValues().indexOf(e)},C.getEntries=function(){return Array.from(C._SPEED_MAP.entries())};var I=(y=b=function(){function e(){var t=this;Object(h.a)(this,e),this._name=void 0,this._messages=void 0,this._allParticipants=void 0,this._participantsPerMatch=void 0,this._languages=void 0,Object(m.a)(this,"_currentLanguage",O,this),Object(m.a)(this,"_speed",E,this),this._unusedMessages=void 0,this._getName=function(){return o.name},this._getMessages=function(){return o.messages},this._createParticipant=function(e){return"string"===typeof e?new v(e):new v(e.name,e.avatar,e.weight)},this._getParticipants=function(){return o.users.map(t._createParticipant)},this._getParticipantsPerMatch=function(){return o.participantsPerMatch},this._getlLanguages=function(){return o.lang},this._getSpeed=function(){return C.get("ONE")},this._shouldPrepend=function(e,t){return e===t-1&&t>1},this._prependToLastParticipant=function(e,n){return function(a,r){return t._shouldPrepend(r,e)?"".concat(n," ").concat(a):a}},this._formatLosers=function(e){return e.map(t._prependToLastParticipant(e.length,"and")).join(", ")},this.getFormattedMessage=function(e,n,a){return e.replace("#winner",n).replace("#loser",t._formatLosers(a))},this.getMessageIndex=function(e){return t._messages.indexOf(e)},this._name=this._getName(),this._messages=this._getMessages(),this._unusedMessages=k.shuffle(Object(d.a)(this._messages)),this._allParticipants=this._getParticipants(),this._participantsPerMatch=this._getParticipantsPerMatch(),this._languages=this._getlLanguages(),this._currentLanguage="en",this._speed=this._getSpeed()}return Object(f.a)(e,[{key:"getRandomMessage",value:function(){0===this._unusedMessages.length&&(this._unusedMessages=k.shuffle(Object(d.a)(this._messages)));var e=k.pick(this._unusedMessages);return this._unusedMessages.splice(this._unusedMessages.indexOf(e),1),e}},{key:"setCurrentLanguage",value:function(e){-1!==this._languages.indexOf(e)?(this._currentLanguage=e,$.changeLanguage(e)):console.error("Illegal value '".concat(e,"' for current language."))}},{key:"setSpeed",value:function(e){C.hasValue(e)?this._speed=e:console.error("Illegal value '".concat(e,"' for speed."))}},{key:"name",get:function(){return this._name}},{key:"messages",get:function(){return Object(d.a)(this._messages)}},{key:"allParticipants",get:function(){return this._allParticipants}},{key:"participantsPerMatch",get:function(){return this._participantsPerMatch}},{key:"languages",get:function(){return this._languages}},{key:"currentLanguage",get:function(){return this._currentLanguage}},{key:"speed",get:function(){return this._speed}}],[{key:"getInstance",value:function(){return e._instance?e._instance:e._instance=new e}}]),e}(),b._instance=null,w=y,O=Object(g.a)(w.prototype,"_currentLanguage",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=Object(g.a)(w.prototype,"_speed",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(g.a)(w.prototype,"currentLanguage",[j.computed],Object.getOwnPropertyDescriptor(w.prototype,"currentLanguage"),w.prototype),Object(g.a)(w.prototype,"setCurrentLanguage",[j.action],Object.getOwnPropertyDescriptor(w.prototype,"setCurrentLanguage"),w.prototype),Object(g.a)(w.prototype,"speed",[j.computed],Object.getOwnPropertyDescriptor(w.prototype,"speed"),w.prototype),Object(g.a)(w.prototype,"setSpeed",[j.action],Object.getOwnPropertyDescriptor(w.prototype,"setSpeed"),w.prototype),w),A=n(12),P=n(6),S=function(e){return"https://api.adorable.io/avatars/480/".concat(e)},T=function(e,t,n){return n>=t&&e>=t&&e<=n},W=function(e,t){var n=setTimeout(e,t);return function(){return clearTimeout(n)}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(u.useState)(e),n=Object(s.a)(t,2),a=n[0],r=n[1],i=function(){return r(a+1)},c=function(e){return W(i,e)};return[a,i,c,r]},D=function(e){return e/I.getInstance().speed},L=function(e,t){return function(){return e?t():void 0}},U=function(e,t){return l.a.createElement(A.a,{to:"/round/".concat(e,"/match/").concat(t)})},V=function(e){return function(t){return l.a.createElement(P.Observer,null,(function(){return l.a.createElement(e,t)}))}},F={resources:{en:{translation:n(62)},de:{translation:n(63)}},lng:"en",fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},react:{wait:!0}},q=o.lang,z=Object.keys(F.resources);z.filter((function(e){return-1===q.indexOf(e)})).forEach((function(e){throw new Error('Language "'.concat(e,'" is not added in config.'))})),q.filter((function(e){return-1===z.indexOf(e)})).forEach((function(e){throw new Error('Language "'.concat(e,'" is not added in resources.'))})),a.a.use(i.a).use(c.b).init(F);var B,K,G,J,Z,X,$=a.a,H=(n(106),n(107),n(27)),Q=n.n(H),Y=n(67),ee=n(69),te=n(68),ne=(n(108),n(1)),ae=n.n(ne),re=(n(109),n(110),n(7)),ie=(n(111),n(112),n(113),n(114),function(e){return void 0===e.participant.avatar?null:l.a.createElement("div",{className:ae()("".concat(e.className,"__avatar"))},l.a.createElement("img",{src:e.participant.avatar.url,alt:e.participant.avatar.altText}))}),ce=function(e){return l.a.createElement("div",{className:ae()("".concat(e.className,"__name"))},l.a.createElement("strong",null,e.participant.properName))},oe=function(e){return function(t){return l.a.createElement("div",{className:ae()("participant",e,{["".concat("participant","--invert")]:t.invert})},l.a.createElement(ie,Object.assign({className:e},t)),l.a.createElement(ce,Object.assign({className:e},t)))}},se=oe("participant-entry"),ue=(n(115),function(e){var t=R(),n=Object(s.a)(t,2),a=n[0],r=n[1];return Object(u.useEffect)(L(0===a,r)),l.a.createElement(re.CSSTransition,{in:a>0,timeout:D(200),classNames:{enter:"",enterActive:"".concat(e.className,"__winner--entering"),enterDone:"".concat(e.className,"__winner--entered"),exit:"",exitActive:"".concat(e.className,"__winner--exiting"),exitDone:"".concat(e.className,"__winner--exited")},mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("div",{className:ae()("".concat(e.className,"__winner")),style:{transition:"opacity ".concat(D(200),"ms ease-in-out")}},l.a.createElement(se,{participant:e.winner})))}),le=function(e){var t=R(),n=Object(s.a)(t,4),a=n[0],r=n[1],i=n[2],c=n[3];return Object(u.useEffect)(L(0===a,r)),Object(u.useEffect)(L((a+1)%3===0,(function(){return i(D(200))}))),Object(u.useEffect)(L(a===3*e.match.participants.length+1,(function(){return c(1)}))),l.a.createElement(u.Fragment,null,e.isCurrentMatch&&e.isActualMatch?e.match.participants.map((function(t,n){return l.a.createElement(re.CSSTransition,{key:t.id,in:T(a,3*n+1,3*n+2),timeout:D(200),classNames:{enter:"",enterActive:"".concat(e.className,"__interim--entering"),enterDone:"".concat(e.className,"__interim--entered"),exit:"",exitActive:"".concat(e.className,"__interim--exiting"),exitDone:"".concat(e.className,"__interim--exited")},mountOnEnter:!0,unmountOnExit:!0,onEntered:r,onExited:r},l.a.createElement("div",{className:ae()("".concat(e.className,"__interim")),style:{transition:"opacity ".concat(D(200),"ms ease-in-out")}},l.a.createElement(se,{participant:t})))})):l.a.createElement(ue,{className:e.className,isCurrentMatch:e.isCurrentMatch,winner:e.match.winner}))},de=(n(122),function(e){return l.a.createElement("div",{className:ae()("".concat(e.className,"__list"))},e.match.participants.map((function(e){return l.a.createElement(se,{key:e.id,participant:e})})))}),me=(n(123),n(124),Object(P.inject)("config")(Object(c.d)()(Object(A.g)(V((function(e){var t=R(),n=Object(s.a)(t,2),a=n[0],r=n[1],i=!new URLSearchParams(e.location.search).has("stop");Object(u.useEffect)(L(0===a,r));var o=(0,Object(c.c)().t)("matchOverlay.messages",{returnObjects:!0,count:e.currentMatch.losers.length}),d=e.currentMatch.message,m=e.config.getMessageIndex(e.currentMatch.message);-1!==m&&Array.isArray(o)&&T(m,0,o.length-1)&&(d=o[m]);var h=e.currentMatch.winner.properName,f=e.currentMatch.losers.map((function(e){return e.properName}));return Object(u.useEffect)(L(2===a&&i,(function(){return W((function(){e.onWinnerComplete()}),D(4e3))}))),l.a.createElement(re.CSSTransition,{in:a>0&&e.show,timeout:D(500),classNames:{enter:"",enterActive:"".concat(e.className,"__winner--entering"),enterDone:"".concat(e.className,"__winner--entered"),exit:"",exitActive:"".concat(e.className,"__winner--exiting"),exitDone:"".concat(e.className,"__winner--exited")},mountOnEnter:!0,unmountOnExit:!0,onEntered:r},l.a.createElement("div",{className:ae()("".concat(e.className,"__winner")),style:{transition:"opacity ".concat(D(500),"ms ease-in-out")}},l.a.createElement(c.a,{i18nKey:"matchOverlay.winnerTitle"},l.a.createElement(se,{participant:e.currentMatch.winner}),l.a.createElement("h3",null,"Won The Match!")),l.a.createElement("h5",null,l.a.createElement("strong",null,l.a.createElement("em",null,e.config.getFormattedMessage(d,h,f))))))})))))),he=(n(125),n(64)),fe=Object(c.d)()(V((function(e){var t=R(),n=Object(s.a)(t,3),a=n[0],r=n[1],i=n[2];return Object(u.useEffect)(L(0===a,r)),Object(u.useEffect)(L(2===a,(function(){return i(D(4e3))})),[a]),l.a.createElement(re.CSSTransition,{in:T(a,1,2)&&e.show,timeout:D(500),classNames:{enter:"",enterActive:"".concat(e.className,"__interim--entering"),enterDone:"".concat(e.className,"__interim--entered"),exit:"",exitActive:"".concat(e.className,"__interim--exiting"),exitDone:"".concat(e.className,"__interim--exited")},mountOnEnter:!0,unmountOnExit:!0,onEntered:r,onExited:e.onInterimComplete},l.a.createElement("div",{className:ae()("".concat(e.className,"__interim")),style:{transition:"opacity ".concat(D(500),"ms ease-in-out")}},l.a.createElement("h3",null,l.a.createElement(c.a,{i18nKey:"matchOverlay.interimText"},"Selecting Winner")),l.a.createElement(he.ClipLoader,{sizeUnit:"rem",size:3})))}))),ge=(n(151),n(152),oe("participant-card")),pe=Object(c.d)()((function(e){return l.a.createElement("div",{className:ae()("".concat(e.className,"__list"))},e.currentMatch.participants.flatMap((function(t){return[l.a.createElement("div",{key:t.id},l.a.createElement(ge,{invert:!0,participant:t})),l.a.createElement("h3",{className:ae()("versus-text"),key:"".concat(t.id," versus")},l.a.createElement(c.a,{i18nKey:"matchOverlay.versus",count:e.currentMatch.participants.length},"VS"))]})).slice(0,-1))})),_e=V((function(e){var t=R(),n=Object(s.a)(t,2),a=n[0],r=n[1],i="match-overlay";return Object(u.useEffect)(L(0===a&&e.show,r)),l.a.createElement(re.CSSTransition,{in:T(a,1,2)&&e.show,timeout:D(500),classNames:{enter:"",enterActive:"".concat(i,"-wrapper--entering"),enterDone:"".concat(i,"-wrapper--entered"),exit:"",exitActive:"".concat(i,"-wrapper--exiting"),exitDone:"".concat(i,"-wrapper--exited")},mountOnEnter:!0,unmountOnExit:!0,onExited:e.onOverlayComplete},l.a.createElement("div",{className:ae()("".concat(i,"-wrapper")),style:{transition:"opacity ".concat(D(500),"ms ease-in-out")}},l.a.createElement("div",{className:ae()(i)},l.a.createElement(pe,{className:i,currentMatch:e.currentMatch}),l.a.createElement(fe,{className:i,show:1===a,onInterimComplete:r}),l.a.createElement(me,{currentMatch:e.currentMatch,className:i,show:2===a,onWinnerComplete:r}))))})),ve=V((function(e){if(void 0===e.match)return null;var t=e.match.participants.length>1,n=R(e.isCurrentMatch?0:3),a=Object(s.a)(n,4),r=a[0],i=a[1],c=a[2],o=a[3],d=function(){o(3),L(e.isCurrentMatch,(function(){return W((function(){return e.onMatchComplete()}),D(1e3))}))()};Object(u.useEffect)(L(0===r,i)),Object(u.useEffect)(L(1===r&&t&&e.isCurrentMatch,(function(){return c(D(200))}))),Object(u.useEffect)(L(1===r&&!t,d));var m=Object(u.useRef)(null);return l.a.createElement(re.CSSTransition,{in:r>0,timeout:D(500),classNames:{enter:"",enterActive:"".concat("match","--entering"),enterDone:"".concat("match","--entered"),exit:"",exitActive:"".concat("match","--exiting"),exitDone:"".concat("match","--exited")},mountOnEnter:!0,unmountOnExit:!0,onEntering:function(){return m.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},onExited:e.onMatchComplete},l.a.createElement("div",{ref:m,className:ae()("match",{["".concat("match","--completed")]:!e.isCurrentMatch}),style:{transition:"opacity ".concat(D(500),"ms ease-in-out")}},l.a.createElement(de,{className:"match",match:e.match}),l.a.createElement(le,{className:"match",isCurrentMatch:e.isCurrentMatch&&r<3,isActualMatch:t,match:e.match}),l.a.createElement(_e,{currentMatch:e.match,show:2===r&&e.isCurrentMatch,onOverlayComplete:d})))})),we=function(e){var t=e.round.matches.findIndex((function(t){return t.id===e.matchId}));return l.a.createElement(P.Observer,null,(function(){return l.a.createElement("div",{className:ae()("".concat(e.className,"__list"))},e.round.matches.filter((function(e,n){return n<=t})).map((function(t){return l.a.createElement(ve,{key:t.fullId,match:t,isCurrentMatch:t.id===e.matchId,onMatchComplete:e.onCurrentMatchComplete})})))}))},Oe=(n(153),Object(c.d)()((function(e){var t=e.round.id;return l.a.createElement("h2",null,l.a.createElement(c.a,{i18nKey:"roundView.title"},"Round ",{roundId:t}))}))),Ee=V((function(e){var t=e.round.matches.findIndex((function(t){return t.id===e.matchId})),n=R(t),a=Object(s.a)(n,2),r=a[0],i=a[1];return Object(u.useEffect)(L(0===r,i)),l.a.createElement(re.CSSTransition,{in:r>0&&-1!==t&&e.show,timeout:D(500),classNames:{enter:"",enterActive:"".concat(e.className,"--entering"),enterDone:"".concat(e.className,"--entered"),exit:"",exitActive:"".concat(e.className,"--exiting"),exitDone:"".concat(e.className,"--exited")},mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("div",{className:ae()(e.className),style:{transition:"opacity ".concat(D(500),"ms ease-in-out")}},l.a.createElement(Oe,{round:e.round}),l.a.createElement(we,{key:"".concat(e.round.id,":").concat(e.matchId),className:e.className,round:e.round,matchId:e.matchId,onCurrentMatchComplete:e.onCurrentComplete})))})),be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e?U(t.id,t.matches[n].id):null},ye=V((function(e){if(void 0===e.round)return null;var t=e.round.matches.findIndex((function(t){return t.id===e.matchId})),n=R(t),a=Object(s.a)(n,4),r=a[0],i=a[1],c=a[3],o=r>0&&t!==r&&-1!==t&&r<e.round.matches.length;return Object(u.useEffect)(L(r===e.round.matches.length,(function(){return W(e.onRoundComplete,D(500))})),[r]),Object(u.useEffect)((function(){return c(t)}),[t,e.matchId,c]),l.a.createElement(re.CSSTransition,{in:e.show,timeout:D(500),classNames:{enter:"",enterActive:"round--entering",enterDone:"round--entered",exit:"",exitActive:"round--exiting",exitDone:"round--exited"},mountOnEnter:!0,unmountOnExit:!0},l.a.createElement(u.Fragment,null,l.a.createElement(Ee,{className:"round",round:e.round,show:r!==e.round.matches.length,matchId:e.matchId,onCurrentComplete:i}),be(-1===t,e.round,0),be(o,e.round,r)))})),je=(n(154),n(155),n(156),Object(c.d)()((function(e){return l.a.createElement("div",{className:ae()("".concat(e.className,"__winner"))},l.a.createElement(c.a,{i18nKey:"winnerOverlay.message"},l.a.createElement(ge,{participant:e.winner}),l.a.createElement("h3",null,"Won The Tournament!")))}))),Ne=function(e){return l.a.createElement("div",{className:ae()(e.className)},l.a.createElement(je,e))},xe=V((function(e){var t=R(),n=Object(s.a)(t,2),a=n[0],r=n[1],i="winner-overlay";return Object(u.useEffect)(L(0===a,r)),l.a.createElement(re.CSSTransition,{in:a>0&&e.show,timeout:D(500),classNames:{enter:"",enterActive:"".concat(i,"-wrapper--entering"),enterDone:"".concat(i,"-wrapper--entered"),exit:"",exitActive:"".concat(i,"-wrapper--exiting"),exitDone:"".concat(i,"-wrapper--exited")},mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("div",{className:ae()("".concat(i,"-wrapper")),style:{transition:"opacity ".concat(D(500),"ms ease-in-out")}},l.a.createElement(Ne,{className:i,winner:e.winner})))})),Me=(n(157),n(158),Object(P.inject)("config")(Object(P.observer)((function(e){return l.a.createElement("button",{key:e.speed,className:ae()("".concat(e.className,"__option"),{"button-primary":e.speed===e.config.speed}),onClick:function(){return e.config.setSpeed(e.speed)}},"".concat(e.speed,"x"))})))),ke=C.getValues(),Ce=function(e){return l.a.createElement("div",{className:ae()("speed-control")},ke.map((function(e){return l.a.createElement(Me,{className:"speed-control",key:"".concat(e,"-speed"),speed:e})})))},Ie=(n(65),function(){return null}),Ae=(n(159),n(160),n(161),V((function(e){var t=R(),n=Object(s.a)(t,3),a=n[0],r=n[1],i=n[2];return Object(u.useEffect)(L(0===a,r)),Object(u.useEffect)(L(2===a,(function(){return i(D(1e3))})),[a]),l.a.createElement(re.CSSTransition,{in:T(a,1,2)&&e.show,timeout:D(200),classNames:{enter:"",enterActive:"".concat(e.className,"__loser--entering"),enterDone:"".concat(e.className,"__loser--entered"),exit:"",exitActive:"".concat(e.className,"__loser--exiting"),exitDone:"".concat(e.className,"__loser--exited")},mountOnEnter:!0,unmountOnExit:!0,onEntered:r,onExited:e.onInfoComplete},l.a.createElement("div",{className:ae()("".concat(e.className,"__loser")),style:{transition:"opacity ".concat(D(200),"ms ease-in-out")}},l.a.createElement(ge,{participant:e.loser})))}))),Pe=Object(c.d)()((function(e){var t=R(),n=Object(s.a)(t,2),a=n[0],r=n[1];return Object(u.useEffect)(L(a===e.losers.length,e.onViewComplete)),l.a.createElement("div",{className:ae()(e.className)},l.a.createElement("h2",null,l.a.createElement(c.a,{i18nKey:"loserOverlay.title",count:e.losers.length},"Losers")),e.losers.map((function(t,n){return l.a.createElement(Ae,{key:t.name,className:e.className,show:a===n,loser:t,onInfoComplete:r})})))})),Se=V((function(e){var t=R(),n=Object(s.a)(t,2),a=n[0],r=n[1],i="loser-overlay";return Object(u.useEffect)(L(0===a,r)),l.a.createElement(re.CSSTransition,{in:1===a,timeout:D(500),classNames:{enter:"",enterActive:"".concat(i,"-wrapper--entering"),enterDone:"".concat(i,"-wrapper--entered"),exit:"",exitActive:"".concat(i,"-wrapper--exiting"),exitDone:"".concat(i,"-wrapper--exited")},mountOnEnter:!0,unmountOnExit:!0,onExited:e.onOverlayComplete},l.a.createElement("div",{className:ae()("".concat(i,"-wrapper")),style:{transition:"opacity ".concat(D(500),"ms ease-in-out")}},l.a.createElement(Pe,{losers:e.losers,className:i,onViewComplete:r})))})),Te=function(e){return e.show?l.a.createElement(Se,{losers:e.round.losers,onOverlayComplete:e.onOverlayComplete}):null},We=(n(162),n(163)),Re=Object(c.d)()(Object(P.inject)("config")((function(e){var t=(0,Object(c.c)().t)("tournamentView.name"),n=We(t)&&t?t:e.config.name;return l.a.createElement("h1",null,l.a.createElement(c.a,{i18nKey:"tournamentView.title"},{tournamentName:n}," Tournament"))}))),De=(n(164),n(165),Object(P.inject)("config")(Object(P.observer)((function(e){return l.a.createElement("button",{key:e.language,className:ae()("".concat(e.className,"__option"),{"button-primary":e.language===e.config.currentLanguage}),onClick:function(){return e.config.setCurrentLanguage(e.language)}},e.language)})))),Le=Object(P.inject)("config")((function(e){return l.a.createElement("div",{className:ae()("language-control")},e.config.languages.map((function(e){return l.a.createElement(De,{key:"".concat(e,"-language"),className:"language-control",language:e})})))})),Ue=n(56),Ve=Object(c.d)()(Object(P.inject)("serviceWorkerAlertsConfig")(V((function(e){var t=Object(u.useState)(!0),n=Object(s.a)(t,2),a=n[0],r=n[1],i=e.t("serviceWorker.updateMessage.title"),c=e.t("serviceWorker.updateMessage.message");return l.a.createElement(Ue.default,{show:a&&e.serviceWorkerAlertsConfig.updated,type:"warning",title:i,text:c,onConfirm:function(){r(!1),e.serviceWorkerAlertsConfig.setIsUpdated(!1)}})})))),Fe=n(56),qe=Object(c.d)()(Object(P.inject)("serviceWorkerAlertsConfig")(V((function(e){var t=Object(u.useState)(!0),n=Object(s.a)(t,2),a=n[0],r=n[1],i=e.t("serviceWorker.offlineMessage.title"),c=e.t("serviceWorker.offlineMessage.message");return l.a.createElement(Fe.default,{show:a&&e.serviceWorkerAlertsConfig.added,type:"success",title:i,text:c,onConfirm:function(){r(!1),e.serviceWorkerAlertsConfig.setIsAdded(!1)}})})))),ze=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return e?U(t.rounds[n].id,t.rounds[n].matches[a].id):null},Be=function(e){var t=e.tournament.rounds.findIndex((function(t){return t.id===e.roundId})),n=e.tournament.lastRound.id===e.roundId,a=Object(u.useState)(!1),r=Object(s.a)(a,2),i=r[0],c=r[1],o=R(),d=Object(s.a)(o,4),m=d[0],h=d[1],f=d[3],g=m>0&&t+1!==m&&m<=e.tournament.rounds.length;return Object(u.useEffect)(L(0===m,(function(){return f(t+1)}))),l.a.createElement("div",{key:"round-".concat(t),className:ae()("tournament")},l.a.createElement(Re,null),l.a.createElement(ye,{key:"".concat(e.roundId),show:m===t+1,round:e.tournament.rounds[t],matchId:e.matchId,onRoundComplete:function(){return c(!0)}}),l.a.createElement(Te,{show:i&&!n,round:e.tournament.rounds[t],onOverlayComplete:function(){c(!1),h()}}),l.a.createElement(xe,{show:i&&n,winner:e.tournament.winner}),ze(-1===t,e.tournament,0,0),ze(g,e.tournament,Math.max(t,m-1),0),l.a.createElement(Ce,null),l.a.createElement(Le,null),l.a.createElement(qe,null),l.a.createElement(Ve,null),l.a.createElement(Ie,null))},Ke=function(e){return e.roundId?U(e.roundId,e.firstMatchId):U(e.firstRoundId,e.firstMatchId)},Ge=Object(P.observer)(B=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r)))._getParams=function(e){return e.match.params},e._getApplicationRoute=function(){return l.a.createElement(A.b,{exact:!0,path:"/round/:roundId/match/:matchId",render:e._getTournament})},e._getTournament=function(t){return l.a.createElement(Be,{key:e._getParams(t).roundId,tournament:e.props.tournament,roundId:e._getParams(t).roundId,matchId:e._getParams(t).matchId})},e._getPartialRoute=function(){return l.a.createElement(A.b,{exact:!0,path:"/round/:roundId",render:e._getPartialAppRedirect})},e._getPartialAppRedirect=function(t){return e._getCurrentRoundDetails(e._getParams(t).roundId)?l.a.createElement(Ke,{roundId:e._getParams(t).roundId,firstMatchId:e._getFirstMatchIdOfCurrentRound(e._getParams(t).roundId)}):e._getUnknownAppRedirect()},e._getUnknownRoute=function(){return l.a.createElement(A.b,{exact:!0,path:"*",render:e._getUnknownAppRedirect})},e._getUnknownAppRedirect=function(){return l.a.createElement(Ke,{roundId:e._getFirstRoundId(),firstMatchId:e._getFirstMatchIdOfCurrentRound(e._getFirstRoundId())})},e._getFirstRoundId=function(){return e.props.tournament.firstRound.id},e._getIsCurrentRoundFilter=function(e){return function(t){return t.id===e}},e._getCurrentRoundDetails=function(t){return e.props.tournament.rounds.find(e._getIsCurrentRoundFilter(t))},e._getFirstMatchIdOfCurrentRound=function(t){return e._getCurrentRoundDetails(t).firstMatch.id},e.render=function(){return l.a.createElement(A.d,null,e._getApplicationRoute(),e._getPartialRoute(),e._getUnknownRoute())},e}return n}(u.Component))||B,Je=Object(A.g)(Ge),Ze=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),Xe=0;function $e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){if(!(Xe>0)){++Xe;var n=e.installing||e.waiting;null!=n&&(n.onstatechange=function(){Xe>1||(++Xe,"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e))))},"installed"===n.state&&n.onstatechange(new Event("unknown")))}},(e.waiting||e.installing)&&e.onupdatefound(new Event("unknown"))})).catch((function(e){console.error("Error during service worker registration:",e)}))}var He=(X=Z=function(){function e(){Object(h.a)(this,e),Object(m.a)(this,"_added",G,this),Object(m.a)(this,"_updated",J,this),this._added=!1,this._updated=!1}return Object(f.a)(e,[{key:"setIsAdded",value:function(e){this._added=e}},{key:"setIsUpdated",value:function(e){this._updated=e}},{key:"added",get:function(){return this._added}},{key:"updated",get:function(){return this._updated}}],[{key:"getInstance",value:function(){return e._instance?e._instance:e._instance=new e}}]),e}(),Z._instance=null,K=X,G=Object(g.a)(K.prototype,"_added",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=Object(g.a)(K.prototype,"_updated",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(g.a)(K.prototype,"added",[j.computed],Object.getOwnPropertyDescriptor(K.prototype,"added"),K.prototype),Object(g.a)(K.prototype,"updated",[j.computed],Object.getOwnPropertyDescriptor(K.prototype,"updated"),K.prototype),Object(g.a)(K.prototype,"setIsAdded",[j.action],Object.getOwnPropertyDescriptor(K.prototype,"setIsAdded"),K.prototype),Object(g.a)(K.prototype,"setIsUpdated",[j.action],Object.getOwnPropertyDescriptor(K.prototype,"setIsUpdated"),K.prototype),K),Qe=n(38),Ye=n.n(Qe),et=n(66),tt=n.n(et),nt=n(173),at=function(){function e(t,n,a){var r=this;Object(h.a)(this,e),this._id=void 0,this._roundId=void 0,this._participants=void 0,this._winner=void 0,this._message=void 0,this._participantWeightGcd=void 0,this._config=void 0,this._getParticipantWeight=function(e){return e.weight},this._getParticipantWeightsGcd=function(){return r._participants.map(r._getParticipantWeight).reduce((function(e,t){return nt(e,t)}))},this._cloneParticipantByWeight=function(e){for(var t=[],n=0;n<e.weight/r._participantWeightGcd;n++)t.push(e);return t},this._getWinner=function(){return k.pick(r._participants.flatMap(r._cloneParticipantByWeight))},this._getMessage=function(){return r._config.getRandomMessage()},this._getMatchId=function(t){return e.counter[t]||(e.counter[t]=1),"".concat(e.counter[t]++)},this._isNotWinner=function(e){return!e.equals(r._winner)},this._config=t,this._id="".concat(this._getMatchId(a)),this._roundId=a,this._participants=n,this._participantWeightGcd=this._getParticipantWeightsGcd(),this._winner=this._getWinner(),this._message=this._getMessage()}return Object(f.a)(e,[{key:"id",get:function(){return this._id}},{key:"fullId",get:function(){return"".concat(this._roundId,":").concat(this._id)}},{key:"losers",get:function(){return this._participants.filter(this._isNotWinner)}},{key:"participants",get:function(){return this._participants}},{key:"winner",get:function(){return this._winner}},{key:"message",get:function(){return this._message}}]),e}();at.counter={};var rt=function(){function e(t,n){var a=this;Object(h.a)(this,e),this._id=void 0,this._matches=void 0,this._config=void 0,this._shuffleParticipants=function(e){return k.shuffle(e)},this._createMatch=function(e){return new at(a._config,e,a._id)},this._getMatches=function(e){return tt()(a._shuffleParticipants(e),a._config.participantsPerMatch).map(a._createMatch)},this._getMatchParticipants=function(e){return e.participants},this._getMatchWinner=function(e){return e.winner},this._getMatchLosers=function(e){return e.losers},this._config=t,this._id="".concat(e.counter++),this._matches=this._getMatches(n)}return Object(f.a)(e,[{key:"id",get:function(){return this._id}},{key:"matches",get:function(){return this._matches}},{key:"firstMatch",get:function(){return this._matches[0]}},{key:"lastMatch",get:function(){return Ye()(this._matches)}},{key:"participants",get:function(){return this._matches.flatMap(this._getMatchParticipants)}},{key:"winners",get:function(){return this._matches.map(this._getMatchWinner)}},{key:"losers",get:function(){return this._matches.flatMap(this._getMatchLosers)}}]),e}();rt.counter=1;var it=function(){function e(t){var n=this;Object(h.a)(this,e),this._rounds=void 0,this._config=void 0,this._createRound=function(e){return new rt(n._config,e)},this._getRounds=function(){for(n._rounds=[n._createRound(n._config.allParticipants)];!n._hasWinner;)n._rounds.push(n._createRound(n.lastRound.winners));return n._rounds},this._config=t,this._rounds=this._getRounds()}return Object(f.a)(e,[{key:"_hasWinner",get:function(){return 1===this.lastRound.winners.length}},{key:"firstRound",get:function(){return this._rounds[0]}},{key:"lastRound",get:function(){return Ye()(this._rounds)}},{key:"rounds",get:function(){return this._rounds}},{key:"winner",get:function(){return this.lastRound.winners[0]}}]),e}(),ct=I.getInstance(),ot=He.getInstance();!function(e){if("serviceWorker"in navigator){if(new URL("/giveaway-webapp",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/giveaway-webapp","/service-worker.js");Ze?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):$e(t,e)}))}}({onSuccess:function(){return ot.setIsAdded(!0)},onUpdate:function(){return ot.setIsUpdated(!0)}});var st=new it(ct);document.title="".concat(ct.name," Tournament"),Q.a.render(l.a.createElement(Y.a,null,l.a.createElement(P.Provider,{config:ct,serviceWorkerAlertsConfig:ot},l.a.createElement(Je,{tournament:st}))),document.getElementById("root"))},24:function(e){e.exports=JSON.parse('{"name":"Foobar Giveaway","seed":1234567890,"participantsPerMatch":2,"messages":["#loser lost against #winner.","#winner won against #loser.","#winner didn\'t lose to #loser.","#loser didn\'t win against #winner.","#loser lost against #winner who won.","#winner won against #loser who lost."],"lang":["en","de"],"#lang":["Translation files are `located at src/$lang/translation.json`.","Update the languages list you require (always keep `en` as fallback),","run `npm run translations` to generate the translation files for those languages (if not present already),","and modify those translation file values. Important comments are available in the `en` translation file.","Also update `src/store/config/i18n.ts` to include all language resource files. Use the `en` one as an example."],"users":[{"name":"FOO","weight":2},{"name":"BAR","weight":4},{"name":"FAZ","weight":6},{"name":"BAZ","weight":4},{"name":"FOX","weight":1},{"name":"BAX","weight":2},{"name":"BOZ","weight":5},{"name":"FAM","weight":3},{"name":"FAA","weight":2}]}')},62:function(e){e.exports=JSON.parse('{"serviceWorker":{"offlineMessage":{"title":"Use Offline","message":"This web application can now be used offline!"},"updateMessage":{"title":"App Updated","message":"This web application has been updated. Please close all tabs/instances of it and open it again to see the update."}},"tournamentView":{"name":"","title":"<0>{{tournamentName}}</0> Tournament"},"loserOverlay":{"title":"Losers"},"roundView":{"title":"Round <1>{{roundId}}</1>"},"matchOverlay":{"interimText":"Selecting Winner","versus":"VS","messages":["#loser lost against #winner.","#winner won against #loser.","#winner didn\'t lose to #loser.","#loser didn\'t win against #winner.","#loser lost against #winner who won.","#winner won against #loser who lost."],"winnerTitle":"<0></0><1>Won The Match!</1>"},"winnerOverlay":{"message":"<0></0><1>Won The Tournament!</1>"},"#loserOverlay.title_note":"Count is passed for plurals (if required).","#matchOverlay.messages_note":"Count is passed for plurals (if required).","#matchOverlay.versus_note":"Count is passed for plurals (if required).","#tournamentView.name_note":"To be filled in by end developer."}')},63:function(e){e.exports=JSON.parse('{"serviceWorker":{"offlineMessage":{"title":"Offline verwenden","message":"Diese Webanwendung kann jetzt offline verwendet werden!"},"updateMessage":{"title":"App aktualisiert","message":"Diese Webanwendung wurde aktualisiert. Bitte schlie\xdfen Sie alle Tabs / Instanzen und \xf6ffnen Sie es erneut, um das Update anzuzeigen."}},"tournamentView":{"name":"Foobar-Werbegeschenk","title":"<0>{{tournamentName}}</0>-Turnier"},"loserOverlay":{"title":"Verlierer"},"roundView":{"title":"Runde <1>{{roundId}}</1>"},"matchOverlay":{"interimText":"Gewinner ausw\xe4hlen","versus":"VS","messages":["#loser gegen #winner verloren.","#winner gewann gegen #loser.","#winner hat nicht an #loser verloren.","#loser hat nicht gegen #winner gewonnen.","#loser gegen #winner verloren, der gewonnen hat.","#winner gewann gegen #loser, der verloren hat."],"winnerTitle":"<0></0><1>hat das Match gewonnen!</1>"},"winnerOverlay":{"message":"<0></0><1>hat das Turnier gewonnen!</1>"},"#loserOverlay.title_note":"Count is passed for plurals (if required).","#matchOverlay.messages_note":"Count is passed for plurals (if required).","#matchOverlay.versus_note":"Count is passed for plurals (if required).","#tournamentView.name_note":"To be filled in by end developer."}')},70:function(e,t,n){e.exports=n(174)}},[[70,1,2]]]);
//# sourceMappingURL=main.fedee4bc.chunk.js.map